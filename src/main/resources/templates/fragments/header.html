<!DOCTYPE html>
<html xmlns:th=http://www.thymeleaf.org
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<div th:fragment="header">
    <nav class="navbar navbar-expand-sm">
        <a class="navbar-brand text-muted" href="/v1/index">Chatfia</a>
        <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0"></ul>
            <div class="form-inline my-2 my-lg-0">
                <div class="nav-item">
                    <a sec:authorize="isAnonymous()" class="nav-link text-muted" href="/v1/login-page">로그인</a>
                    <a sec:authorize="isAuthenticated()" class="nav-link text-muted" href="/v1/my-page">마이페이지</a>
                </div>
                <div class="nav-item">
                    <a sec:authorize="isAnonymous()" class="nav-link text-muted" href="/v1/signup">회원가입</a>
                    <a sec:authorize="isAuthenticated()" class="logout-btn nav-link text-muted"
                       href="javascript:void(0);">로그아웃</a>
                    <!--JwtTokenFilter 로직 수정 후 사용 예정-->
<!--                    <th:block layout:fragment="script">-->
<!--                        <script th:inline="javascript">-->
<!--                            $(function () {-->
<!--                                $.ajax({-->
<!--                                    url: 'http://localhost:8080/member/logout',-->
<!--                                    type: 'POST',-->
<!--                                    success: function () {-->
<!--                                        location.href = 'http://localhost:8080/v1/login-page'-->
<!--                                    },-->
<!--                                    error: function (response) {-->
<!--                                        alert((response.responseJSON.message).split('##')[0])-->
<!--                                    }-->
<!--                                });-->
<!--                            })-->
<!--                        </script>-->
<!--                    </th:block>-->
                </div>
            </div>
        </div>

    </nav>


</div>


</html>
